<div class="app-alert-text2speech" *ngIf="nosoundClick">
  <div class="floating-message">
    <svg
      width="8"
      height="18"
      viewBox="0 0 8 18"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M5.25 15.75H6.50375C7.19125 15.75 7.75 16.2495 7.75 16.875C7.75 17.496 7.18375 18 6.50375 18H1.49625C0.80875 18 0.25 17.5005 0.25 16.875C0.25 16.254 0.81625 15.75 1.49625 15.75H2.75V6.75H1.5125C0.8125 6.75 0.25 6.2505 0.25 5.625C0.25 5.004 0.80375 4.5 1.5125 4.5H3.9875C4.6875 4.5 5.25 4.9995 5.25 5.625V15.75ZM3.375 3.375C4.41 3.375 5.25 2.619 5.25 1.6875C5.25 0.756 4.41 0 3.375 0C2.34 0 1.5 0.756 1.5 1.6875C1.5 2.619 2.34 3.375 3.375 3.375Z"
        fill="#E1AD27"
      />
    </svg>
    <p>{{ warn }}</p>
  </div>
</div>
<div
  class="outter-drag-piller"
  *ngIf="currentMenuSetting == 'voiceSpeaker'"
></div>
<div class="container-setting">
  <div *ngIf="currentMenuSetting != 'voiceSpeaker'" class="drag-piller"></div>
  <mat-horizontal-stepper #stepper>
    <mat-step label="menu">
      <div class="setting-sound">
        <div class="text-setting-sound">{{ setSound }}</div>
        <div class="button-setting-sound">
          <div>
            <button
              *ngIf="!edit_mode"
              class="save-seeting"
              (click)="createSound()"
            >
              {{ _save }}
            </button>
            <button
              *ngIf="edit_mode"
              class="save-seeting"
              (click)="updateSetting()"
            >
              <span style="color: white">{{ _save }}</span>
            </button>
          </div>
        </div>
      </div>

      <div class="fram-setting1">
        <!----------------------1----------------------->
        <!-- <div
          class="total-setting"
          (click)="gotoSetting(stepper, 'voiceSpeaker')"
        >
          <div *ngIf="!voiceSpeaker" class="label-menu">
            <svg
              width="20"
              height="20"
              viewBox="0 0 20 20"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M16.3996 10.3289C16.3996 9.92893 16.0937 9.62305 15.6937 9.62305C15.2937 9.62305 14.9878 9.92893 14.9878 10.3289C14.9878 13.0819 12.7526 15.3172 9.99961 15.3172C7.24667 15.3172 5.01137 13.0819 5.01137 10.3289C5.01137 9.92893 4.70549 9.62305 4.30549 9.62305C3.90549 9.62305 3.59961 9.92893 3.59961 10.3289C3.59961 13.5995 6.04667 16.3525 9.29373 16.7054V18.5878H6.72902C6.32902 18.5878 6.02314 18.8936 6.02314 19.2936C6.02314 19.6936 6.32902 19.9995 6.72902 19.9995H13.2702C13.6702 19.9995 13.9761 19.6936 13.9761 19.2936C13.9761 18.8936 13.6702 18.5878 13.2702 18.5878H10.7055V16.7054C13.9526 16.3525 16.3996 13.5995 16.3996 10.3289Z"
                fill="black"
              />
              <path
                d="M9.99973 0C7.83502 0 6.07031 1.76471 6.07031 3.92941V10.3059C6.07031 12.4941 7.83502 14.2353 9.99973 14.2588C12.1644 14.2588 13.9291 12.4941 13.9291 10.3294V3.92941C13.9291 1.76471 12.1644 0 9.99973 0Z"
                fill="black"
              />
            </svg>
            <span style="padding-left: 7px">{{ selectVoiceover }}</span>
          </div>
          <div *ngIf="voiceSpeaker" class="label-menu">
            <img [src]="iconSpeaker" alt="ฟังเสียงตัวอย่าง" />
            <span style="padding-left: 7px">{{ nameSpeaker }}</span>
          </div>
          <div>
            <mat-icon>navigate_next</mat-icon>
          </div>
        </div> -->

        <!---------------------- Language ----------------------->
        <div
          class="total-setting"
          (click)="gotoSetting(stepper, 'voiceLanguage')"
        >
          <div *ngIf="!voiceLanguage?.value" class="label-menu">
            <mat-icon svgIcon="world"></mat-icon>
            <span style="padding-left: 7px">{{ setLang }}</span>
          </div>
          <div *ngIf="voiceLanguage?.value" class="label-menu">
            <img
              src="../../../../../assets/icons/toolbar/conversation/flags/{{
                voiceLanguage.flag
              }}"
              alt="National-flag-icon"
            />
            <span style="padding-left: 7px">{{
              getCountryName(voiceLanguage)
            }}</span>
          </div>
          <div>
            <mat-icon>navigate_next</mat-icon>
          </div>
        </div>

        <!---------------------- Speed ----------------------->
        <div class="total-setting" (click)="gotoSetting(stepper, 'voiceSpeed')">
          <div class="label-menu">
            <svg
              width="20"
              height="20"
              viewBox="0 0 20 20"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M19.0403 11.9986C18.6803 10.1586 17.7603 8.4386 16.4003 7.15859L16.2403 7.31859L13.9603 9.5986C14.6803 10.3186 15.1603 11.2386 15.4003 12.2386C15.4403 12.4786 15.6803 12.6786 15.9603 12.6786H18.4803C18.6403 12.6786 18.8403 12.5986 18.9203 12.4786C19.0403 12.3586 19.0803 12.1986 19.0403 11.9986ZM10.4003 4.59859V7.99859C11.4803 8.07859 12.5203 8.47859 13.3603 9.1186L15.8003 6.67859C14.2803 5.39859 12.3603 4.67859 10.4003 4.59859ZM3.76031 7.35859L3.60031 7.15859C2.24031 8.4786 1.32031 10.1986 0.960313 11.9986C0.920313 12.1586 0.960312 12.3586 1.08031 12.4786C1.20031 12.5986 1.36031 12.6786 1.52031 12.6786H4.04031C4.32031 12.6786 4.56031 12.4786 4.60031 12.2386C4.84031 11.2386 5.32031 10.3186 6.04031 9.5986L3.76031 7.35859ZM4.20031 6.63859L6.64031 9.0786C6.64031 9.0786 6.68031 9.0386 6.72031 9.0386C6.72031 8.7986 6.76031 8.5986 6.92031 8.4386C7.12031 8.1986 7.40031 8.0386 7.72031 8.0386C7.92031 8.0386 8.12031 8.1186 8.32031 8.2386C8.76031 8.0786 9.20031 7.99859 9.64031 7.95859V4.55859C7.64031 4.67859 5.72031 5.39859 4.20031 6.63859Z"
                fill="black"
              />
              <path
                d="M10.0001 10.8398C9.88007 10.8398 9.72007 10.8398 9.60007 10.8798C9.04007 10.2798 8.16007 9.27984 7.84007 8.91984C7.72007 8.79984 7.48007 8.91984 7.52007 9.07984C7.60007 9.35984 7.48007 8.91984 8.28007 11.6398C7.92007 12.0398 7.72007 12.5598 7.72007 13.1198C7.72007 14.3598 8.76007 15.3998 10.0001 15.3998C11.2801 15.3998 12.2801 14.3598 12.2801 13.1198C12.2801 11.8398 11.2401 10.8398 10.0001 10.8398ZM10.0001 14.1198C9.48007 14.1198 9.08007 13.7198 9.08007 13.1998C9.08007 12.6798 9.52007 12.2798 10.0001 12.2798C10.5201 12.2798 10.9201 12.6798 10.9201 13.1998C10.9201 13.6798 10.5201 14.1198 10.0001 14.1198Z"
                fill="black"
              />
            </svg>
            <span style="padding-left: 7px"
              >{{ editSpeed }} : {{ getLabelSpeed(voiceSpeed) }}</span
            >
          </div>
          <div>
            <mat-icon>navigate_next</mat-icon>
          </div>
        </div>

        <!---------------------- Volume ----------------------->
        <div class="total-setting" (click)="gotoSetting(stepper, 'level')">
          <div class="label-menu">
            <svg
              width="20"
              height="20"
              viewBox="0 0 20 20"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M9.383 3.07651C9.56569 3.15225 9.72181 3.28046 9.83163 3.44493C9.94146 3.6094 10 3.80274 10 4.00051V16.0005C9.99996 16.1983 9.94129 16.3916 9.8314 16.556C9.72152 16.7204 9.56535 16.8485 9.38265 16.9242C9.19995 16.9999 8.99892 17.0197 8.80497 16.9811C8.61102 16.9425 8.43285 16.8473 8.293 16.7075L4.586 13.0005H2C1.73478 13.0005 1.48043 12.8952 1.29289 12.7076C1.10536 12.5201 1 12.2657 1 12.0005V8.00051C1 7.73529 1.10536 7.48094 1.29289 7.2934C1.48043 7.10586 1.73478 7.00051 2 7.00051H4.586L8.293 3.29351C8.43285 3.15357 8.61105 3.05827 8.80508 3.01964C8.9991 2.98101 9.20023 3.0008 9.383 3.07651ZM14.657 2.92951C14.8445 2.74204 15.0988 2.63672 15.364 2.63672C15.6292 2.63672 15.8835 2.74204 16.071 2.92951C17.0008 3.85716 17.7382 4.95936 18.2409 6.17282C18.7435 7.38627 19.0015 8.68707 19 10.0005C19.0015 11.314 18.7435 12.6148 18.2409 13.8282C17.7382 15.0417 17.0008 16.1439 16.071 17.0715C15.8824 17.2537 15.6298 17.3545 15.3676 17.3522C15.1054 17.3499 14.8546 17.2447 14.6692 17.0593C14.4838 16.8739 14.3786 16.6231 14.3763 16.3609C14.374 16.0987 14.4748 15.8461 14.657 15.6575C15.4011 14.9156 15.9912 14.0338 16.3933 13.063C16.7955 12.0921 17.0016 11.0513 17 10.0005C17 7.79051 16.106 5.79251 14.657 4.34351C14.4695 4.15598 14.3642 3.90167 14.3642 3.63651C14.3642 3.37134 14.4695 3.11703 14.657 2.92951ZM11.828 5.75751C11.9209 5.66453 12.0312 5.59077 12.1526 5.54045C12.274 5.49012 12.4041 5.46422 12.5355 5.46422C12.6669 5.46422 12.797 5.49012 12.9184 5.54045C13.0398 5.59077 13.1501 5.66453 13.243 5.75751C13.8009 6.31417 14.2433 6.97557 14.5448 7.70372C14.8463 8.43186 15.001 9.2124 15 10.0005C15.001 10.7886 14.8463 11.5691 14.5447 12.2973C14.2432 13.0254 13.8008 13.6868 13.243 14.2435C13.0554 14.4312 12.8009 14.5366 12.5355 14.5366C12.2701 14.5366 12.0156 14.4312 11.828 14.2435C11.6404 14.0559 11.5349 13.8014 11.5349 13.536C11.5349 13.2707 11.6404 13.0162 11.828 12.8285C12.2002 12.4577 12.4953 12.0169 12.6965 11.5316C12.8976 11.0462 13.0008 10.5259 13 10.0005C13.0008 9.47512 12.8977 8.95477 12.6965 8.46942C12.4954 7.98406 12.2002 7.5433 11.828 7.17251C11.735 7.07963 11.6613 6.96935 11.6109 6.84795C11.5606 6.72655 11.5347 6.59642 11.5347 6.46501C11.5347 6.33359 11.5606 6.20346 11.6109 6.08207C11.6613 5.96067 11.735 5.85038 11.828 5.75751Z"
                fill="black"
              />
            </svg>
            <span style="padding-left: 7px"
              >{{ editVolumn }} : {{ voiceVolume }}%</span
            >
          </div>
          <div>
            <mat-icon>navigate_next</mat-icon>
          </div>
        </div>
      </div>

      <div class="fram-setting2">
        <!---------------------- Dictionary ----------------------->
        <div
          class="total-setting"
          (click)="gotoSetting(stepper, 'replaceword')"
        >
          <div class="label-menu">
            <svg
              width="20"
              height="20"
              viewBox="0 0 20 20"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M11.4275 12.7156C11.2354 12.9077 10.9979 13.0545 10.7405 13.1403L8.25449 13.9689C8.07508 14.0288 7.88797 14.0591 7.69867 14.0591C7.69867 14.0591 7.69867 14.0591 7.69863 14.0591C7.22906 14.0591 6.78766 13.8763 6.45566 13.5443C5.9818 13.0703 5.81914 12.3811 6.03105 11.7454L6.85973 9.25953C6.94547 9.00207 7.09234 8.76441 7.28434 8.57242L12.6537 3.20312H2.14844C0.963789 3.20312 0 4.16691 0 5.35156V17.8516C0 19.0362 0.963789 20 2.14844 20H14.6484C15.8331 20 16.7969 19.0362 16.7969 17.8516V7.34633L11.4275 12.7156Z"
                fill="black"
              />
              <path
                d="M8.11357 9.40168C8.04923 9.46602 8.00079 9.54441 7.97204 9.6307L7.14337 12.1166C7.07318 12.3271 7.12798 12.5593 7.2849 12.7162C7.44185 12.8732 7.67396 12.928 7.88451 12.8577L10.3704 12.0291C10.4568 12.0004 10.5351 11.9519 10.5995 11.8876L17.9192 4.56793L15.4333 2.08203L8.11357 9.40168Z"
                fill="black"
              />
              <path
                d="M18.6095 0.286025C18.2282 -0.0953418 17.6098 -0.0953418 17.2285 0.286025L16.2617 1.25278L18.7477 3.73872L19.7144 2.77196C20.0958 2.3906 20.0958 1.77228 19.7144 1.39091L18.6095 0.286025Z"
                fill="black"
              />
            </svg>

            <span style="padding-left: 7px">{{ editWringreading }}</span>
          </div>
          <div>
            <mat-icon>navigate_next</mat-icon>
          </div>
        </div>
      </div>
    </mat-step>

    <mat-step label="setting">
      <!-------------------------- Speaker ------------------------>
      <!-- <div *ngIf="currentMenuSetting == 'voiceSpeaker'">
        <app-toolbar-dropdown
          [page]="1"
          (Speaker)="onChangeSpeaker($event, stepper)"
        ></app-toolbar-dropdown>
      </div> -->

      <!-------------------------- Language ------------------------>
      <div *ngIf="currentMenuSetting == 'voiceLanguage'">
        <div class="header-navigate">
          <mat-icon style="cursor: pointer" (click)="back(stepper)"
            >navigate_before</mat-icon
          >
          <span style="font-size: 14px; font-weight: bold">{{ setLang }}</span>
          <div></div>
        </div>
        <!-- <hr> -->

        <div class="content">
          <p class="main-lang">{{ mainLang }}</p>
          <div
            class="item-language main"
            *ngFor="let item of langListMain"
            (click)="onChangeLaugnage(item, stepper)"
          >
            <img
              class="flag"
              src="../../../../../assets/icons/toolbar/conversation/flags/{{
                item.flag
              }}"
              alt="flag"
            />
            <span>{{ getCountryName(item) }}</span>
          </div>
          <p class="addons-lang">{{ addonsLang }}</p>
          <div
            class="item-language sub"
            *ngFor="let item of langListSub"
            (click)="onChangeLaugnage(item, stepper)"
          >
            <img
              class="flag"
              src="../../../../../assets/icons/toolbar/conversation/flags/{{
                item.flag
              }}"
              alt="flag"
            />
            <span>{{ getCountryName(item) }}</span>
            <hr />
          </div>
        </div>

        <!-- <div>
          <mat-selection-list
            [multiple]="false"
            style="height: 260px; overflow-y: auto"
          >
            <mat-list-option
              *ngFor="let speeds of speedSound"
              [value]="speeds.value"
              [selected]="speeds.value == voiceSpeed ? true : false"
              (click)="setSpeed(speeds.value, stepper)"
            >
              <div class="total-setting">
                <div>
                  {{ speeds.name }}
                </div>
                <div *ngIf="speeds.value != voiceSpeed">
                  <svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="0.5" y="0.5" width="14" height="14" rx="7" fill="white" stroke="#E0E2E4"/>
                  </svg>
                </div>
                <div *ngIf="speeds.value == voiceSpeed">
                  <svg width="16" height="16" viewBox="5 6 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g filter="url(#filter0_d_6811_20809)">
                      <rect x="6" y="6" width="15" height="15" rx="7.5" fill="white"/>
                      <rect x="6.5" y="6.5" width="14" height="14" rx="7" stroke="#01BFFB"/>
                    </g>
                    <rect x="8" y="8" width="11" height="11" rx="5.5" fill="#01BFFB"/>
                    <defs>
                      <filter id="filter0_d_6811_20809" x="0" y="0" width="27" height="27" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                      <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                      <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                      <feOffset/>
                      <feGaussianBlur stdDeviation="3"/>
                      <feColorMatrix type="matrix" values="0 0 0 0 0.694118 0 0 0 0 0.917647 0 0 0 0 0.988235 0 0 0 0.5 0"/>
                      <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_6811_20809"/>
                      <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_6811_20809" result="shape"/>
                      </filter>
                    </defs>
                  </svg>
                </div>
              </div>
            </mat-list-option>
          </mat-selection-list>
        </div> -->
      </div>

      <!-------------------------- Speed ------------------------>
      <div *ngIf="currentMenuSetting == 'voiceSpeed'">
        <div class="header-navigate">
          <mat-icon style="cursor: pointer" (click)="back(stepper)"
            >navigate_before</mat-icon
          >
          <span style="font-size: 14px; font-weight: bold">{{
            editSpeed
          }}</span>
          <div></div>
        </div>
        <hr />

        <div>
          <mat-selection-list
            [multiple]="false"
            style="height: 260px; overflow-y: auto"
            color="primary"
          >
            <mat-list-option
              *ngFor="let speeds of speedSound"
              [value]="speeds.value"
              [selected]="speeds.value == voiceSpeed ? true : false"
              (click)="onChangeSpeed(speeds.value, stepper)"
            >
              <div class="total-setting">
                <div>
                  {{ speeds.name }}
                </div>
              </div>
            </mat-list-option>
          </mat-selection-list>
        </div>
      </div>

      <!-------------------------- Volume ------------------------>
      <div *ngIf="currentMenuSetting == 'level'">
        <div class="header-navigate" style="padding: 10px">
          <mat-icon style="cursor: pointer" (click)="back(stepper)"
            >navigate_before</mat-icon
          >
          <span style="font-size: 15px; font-weight: bold">{{
            editVolumn
          }}</span>
        </div>
        <hr />
        <div>
          <mat-selection-list
            #levelSound
            [multiple]="false"
            style="overflow-y: auto; height: 260px"
            color="primary"
          >
            <mat-list-option
              *ngFor="let levelSound of typeslevelSound"
              [value]="levelSound"
              [selected]="levelSound == voiceVolume ? true : false"
              (click)="onChangeVolume(levelSound, stepper)"
            >
              <div class="total-setting">
                <span>{{ levelSound }}%</span>
              </div>
            </mat-list-option>
          </mat-selection-list>
        </div>
      </div>

      <!----------- Dictionary -------------->
      <div *ngIf="currentMenuSetting == 'replaceword'">
        <!-- head -->
        <div
          class="header-navigate"
          style="padding: 10px; grid-template-columns: 96px 1fr 96px"
        >
          <mat-icon style="cursor: pointer" (click)="back(stepper)"
            >navigate_before</mat-icon
          >

          <span> {{ editWrongWord }} </span>

          <span
            class="link-historyWord"
            (click)="gotoSetting(stepper, 'replaceword')"
            >{{ historyEdit }}</span
          >
        </div>

        <!-- body -->
        <div class="group-controll" style="overflow-y: auto; height: 260px">
          <form
            [formGroup]="formWords"
            (submit)="submitForm(stepper)"
            class="section-addword"
          >
            <div>
              <div formArrayName="words" class="form-word">
                <div *ngFor="let w of arrWord.controls; let i = index">
                  <div class="group-input-word" [formGroupName]="i">
                    <div>
                      <div class="p-2">
                        <span>{{ writing }}</span>

                        <span>
                          <img
                            src="../../assets/img/Real_audio.svg"
                            alt="ฟังเสียงตัวอย่าง"
                            srcset=""
                            (click)="playWordInSidebar(w.value.before_text)"
                            style="cursor: pointer"
                          />
                        </span>
                      </div>
                      <div>
                        <input
                          matInput
                          type="text"
                          placeholder="{{ _reading }}"
                          autocomplete="off"
                          formControlName="before_text"
                        />
                      </div>
                    </div>

                    <div>
                      <img
                        src="../../assets/img/fast_forward_blue.svg"
                        style="width: 12px"
                        alt="icon"
                      />
                    </div>
                    <div>
                      <div class="p-2">
                        <span>{{ reading }}</span>
                        <span>
                          <img
                            src="../../assets/img/Real_audio.svg"
                            alt="icon"
                            (click)="playWordInSidebar(w.value.after_text)"
                            style="cursor: pointer"
                          />
                        </span>
                      </div>
                      <div>
                        <input
                          matInput
                          type="text"
                          placeholder="{{ _reading }}"
                          autocomplete="off"
                          formControlName="after_text"
                        />
                      </div>
                    </div>
                  </div>
                </div>
                <div class="addword">
                  <button
                    style="color: black"
                    mat-button
                    class="btn-add-wordreplace"
                    type="button"
                    (click)="addWord('', '')"
                  >
                    {{ addAnotherWord }}
                  </button>
                </div>
                <div
                  style="
                    margin-top: 3%;
                    padding-left: 10px;
                    padding-right: 10px;
                    text-align: center;
                  "
                >
                  <span (click)="back(stepper)">
                    <p
                      mat-button
                      class="btn"
                      style="
                        width: 95px;
                        padding: 5px;
                        padding-top: 12px;
                        margin-top: 2%;
                        color: #01bffb;
                        border-radius: 10px;
                        background-color: white;
                        border: 1px solid #01bffb;
                        height: 45px;
                      "
                    >
                      {{ cancel }}
                    </p>
                  </span>
                  <span style="margin-left: 5%">
                    <p
                      mat-button
                      class="btn"
                      (click)="submitForm(stepper)"
                      style="
                        width: 95px;
                        padding: 5px;
                        margin-top: 2%;
                        background: #01bffb;
                        padding-top: 12px;
                        border-radius: 10px;
                        color: white;
                        height: 45px;
                      "
                    >
                      {{ save }}
                    </p>
                  </span>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </mat-step>
    <!------------------------------1-------------------------------->

    <mat-step label="historyWordWord">
      <div>
        <!-- head -->
        <div class="header-navigate" style="padding: 10px">
          <mat-icon style="cursor: pointer" (click)="back(stepper, false)"
            >navigate_before</mat-icon
          >
          <span style="font-size: 15px; font-weight: bold">{{
            historyEdit
          }}</span>
        </div>

        <div style="background-color: white">
          <div
            *ngIf="historyWord.length <= 0"
            class="text-center pt-4"
            style="font-family: Sarabun, sans-serif"
          >
            {{ redirect.emptyHistory }}
          </div>
          <div class="history-content-word">
            <div class="history-word" *ngFor="let item of historyWord">
              <div>{{ item.before_text }}</div>
              <div>
                <img
                  src="../../assets/img/fast_forward_blue.svg"
                  alt="icon"
                  srcset=""
                />
              </div>
              <div>{{ item.after_text }}</div>
            </div>
          </div>
        </div>
      </div>
    </mat-step>
  </mat-horizontal-stepper>
</div>
